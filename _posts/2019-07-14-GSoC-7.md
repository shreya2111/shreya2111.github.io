---
title:  "GSoC 2019 - Extending Gentle Aligner"
date:   2019-07-14
layout: default
author_profile: false
comments: false
tags: [GSoC, ASR, Forced-Alignment]
category: GSoC
permalink: "gsoc/gsocWk6"
---

![GSoC](/icons/GSoC.png)

<h1> Extending Gentle Aligner </h1>
<h2> Week 6 </h2>
<h4> Generating a Language Model </h4>

*  Preparing for integration with Gentle Aligner  
    Acoustic model:

        * Pick final.mdl and tree for the langauge that you wnat to build langauge model for.
        * Place final.mdl inside data/tdnn_7b_chain_online/
        * Place tree inside data/tdnn_7b_chain_online/

    Lexicon:
        * Place words.txt inside data/tdnn_7b_chain_online/graph_pp/words.txt

* Did we get HCLG.fst?

    run script generateLM.py with two arguments, first being path to the utterance.txt and second being path to the `data` directory containing 
    `langdir` and `tdnn_7b_chain_online`

        python3 generateLM.py path-to/utterance.txt path-to/data
        This script call langauge_model of gentle which generates a bigram grammar, and compiles L.fst, C.fst and G.fst into HCLG.fst.

        Inputs to gentle are:
           langdir/L.fst
           langdir/L_disambig.fst
		   langdir/phones/disambig.int
		   tdnn_7b_chain_online/final.mdl
		   tdnn_7b_chain_online/tree
		   tdnn_7b_chain_online/graph_pp/words.txt

* After this step you would have generated temp_HCLG.fst

    copy this as HCLG.fst to the `tdnn_7b_chain_online` directory whcih will be used in the next step of decoding the same utterance and producing its word-phoneme level alignments.

* Next: Decoding using an utterance-level-customized langauge model [Week 7](https://shreya2111.github.io/gsocWk7)

Tools:
Kaldi, Python libraries, C++


Link to [GSoC Project Repository](https://github.com/shreya2111/Gentle-Aligner-Extension)
 
